<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>keyBoard</title>
</head>
<style>
    *{
        margin:0 auto;
        padding:0 auto
    }
    body,html{
        width: 100%;
        height: 100vh;
    }
    #keyBox{
        background: rgba(0,0,0,0.8);
        width: 100%;
        height: 100%;
        display: flex;
        justify-content: space-around;
        align-items: center;
    }
    .keyBoard{
        width: 50px;
        height: 50px;
        border: 2px solid black;
        border-radius: 4px; 
        text-align: center;
        line-height: 40px;
        font-size: 30px;
        color: #fff
    }
    .keyDown{
        transform: scale(1.1,1.1);
        border: 2px solid yellow;
        box-shadow: 0 0 4px 4px  rgba(0,0,0,0.8)
    }
</style>
<body>
    <div id = "keyBox">
    </div>
</body>
</html>
<script>
    const keysList = [
        {
            key:"65",
            value:"a",
            music:"http://122.228.252.154/amobile.music.tc.qq.com/C400001tqEqc0dkEni.m4a?guid=4334329660&vkey=95AC59FE187E4FF928D2903CE07944AA6E972BF579C83A53920ED25DCE8548A9CF318A8FAAFA9AF043E2C18BF90257008AE9632B265FA0D9&uin=0&fromtag=66"
        },
        {
            key:"66",
            value:"b",
            music:"http://122.228.252.154/amobile.music.tc.qq.com/C400001tqEqc0dkEni.m4a?guid=4334329660&vkey=95AC59FE187E4FF928D2903CE07944AA6E972BF579C83A53920ED25DCE8548A9CF318A8FAAFA9AF043E2C18BF90257008AE9632B265FA0D9&uin=0&fromtag=66"
        },
        {
            key:"67",
            value:"c",
            music:"http://122.228.252.154/amobile.music.tc.qq.com/C400001tqEqc0dkEni.m4a?guid=4334329660&vkey=95AC59FE187E4FF928D2903CE07944AA6E972BF579C83A53920ED25DCE8548A9CF318A8FAAFA9AF043E2C18BF90257008AE9632B265FA0D9&uin=0&fromtag=66"
        },
        {
            key:"68",
            value:"d",
            music:"http://122.228.252.154/amobile.music.tc.qq.com/C400001tqEqc0dkEni.m4a?guid=4334329660&vkey=95AC59FE187E4FF928D2903CE07944AA6E972BF579C83A53920ED25DCE8548A9CF318A8FAAFA9AF043E2C18BF90257008AE9632B265FA0D9&uin=0&fromtag=66"
        },
        {
            key:"69",
            value:"e",
            music:"http://122.228.252.154/amobile.music.tc.qq.com/C400001tqEqc0dkEni.m4a?guid=4334329660&vkey=95AC59FE187E4FF928D2903CE07944AA6E972BF579C83A53920ED25DCE8548A9CF318A8FAAFA9AF043E2C18BF90257008AE9632B265FA0D9&uin=0&fromtag=66"
        },
        {
            key:"70",
            value:"f",
            music:"http://122.228.252.154/amobile.music.tc.qq.com/C400001tqEqc0dkEni.m4a?guid=4334329660&vkey=95AC59FE187E4FF928D2903CE07944AA6E972BF579C83A53920ED25DCE8548A9CF318A8FAAFA9AF043E2C18BF90257008AE9632B265FA0D9&uin=0&fromtag=66"
        },
        {
            key:"71",
            value:"g",
            music:"http://122.228.252.154/amobile.music.tc.qq.com/C400001tqEqc0dkEni.m4a?guid=4334329660&vkey=95AC59FE187E4FF928D2903CE07944AA6E972BF579C83A53920ED25DCE8548A9CF318A8FAAFA9AF043E2C18BF90257008AE9632B265FA0D9&uin=0&fromtag=66"
        },
        {
            key:"72",
            value:"h",
            music:"http://122.228.252.154/amobile.music.tc.qq.com/C400001tqEqc0dkEni.m4a?guid=4334329660&vkey=95AC59FE187E4FF928D2903CE07944AA6E972BF579C83A53920ED25DCE8548A9CF318A8FAAFA9AF043E2C18BF90257008AE9632B265FA0D9&uin=0&fromtag=66"
        }
    ]
    let keyBox = document.getElementById("keyBox")
    keysList.forEach(item=>{
        let keyBtn = document.createElement("div")
        let audioBtn = document.createElement("audio");
        audioBtn.src = item["music"]
        keyBtn.innerHTML = item.value;
        keyBtn.classList = "keyBoard"
        keyBtn.setAttribute("key",item.key)
        keyBox.appendChild(keyBtn);
        keyBox.appendChild(audioBtn)
        audioBtn.setAttribute("key",item.key)
    })
    var keyFunc = (e)=>{
        let keyBtn = document.querySelector(`div[key="${e.keyCode}"]`)
        let audioBtn = document.querySelector(`audio[key="${e.keyCode}"]`)
        if(audioBtn){
            audioBtn.currentTime = 0
            audioBtn.play();
        }
        keyBtn.classList.add("keyDown")
    }
    var removeFunc = (e)=>{
        let keyBtn = document.querySelector(`div[key="${e.keyCode}"]`)
        let audioBtn = document.querySelector(`audio[key="${e.keyCode}"]`)
        if(audioBtn){
            audioBtn.currentTime = 0
            audioBtn.pause();
        }
        keyBtn.classList.remove("keyDown")
    }
    window.addEventListener("keydown",keyFunc)
    window.addEventListener("keyup",removeFunc)
</script>